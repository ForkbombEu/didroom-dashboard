diff a/webapp/src/lib/schema/recordsManager/recordActions/editRecord.svelte b/webapp/src/lib/schema/recordsManager/recordActions/editRecord.svelte	(rejected hunks)
@@ -1,43 +1,56 @@
 <script lang="ts">
-	import type { Record } from 'pocketbase';
+	import { createTypeProp } from '$lib/utils/typeProp';
+
+	import type { PBRecord, PBResponse } from '$lib/utils/types';
+	import CrudForm from '$lib/schema/CRUDForm.svelte';
+
+	import ModalWrapper from '$lib/components/modalWrapper.svelte';
 	import { Button, Modal } from 'flowbite-svelte';
 	import { Pencil } from 'svelte-heros-v2';
-	import CrudForm, { formMode } from '$lib/schema/CRUDForm.svelte';
 	import { getRecordsManagerContext } from '../recordsManager.svelte';
 
-	type RecordGeneric = $$Generic;
+	//
+
+	type RecordGeneric = $$Generic<PBRecord>;
+	export let recordType = createTypeProp<RecordGeneric>();
+	recordType;
+
+	export let record: PBResponse<RecordGeneric>;
 
-	export let record: RecordGeneric & Record;
+	//
 
-	const { dataManager, formSettings, editFormSettings } = getRecordsManagerContext();
+	const { dataManager, formFieldsSettings } = getRecordsManagerContext<RecordGeneric>();
+	const { base, edit } = formFieldsSettings;
 	const { loadRecords } = dataManager;
 
-	const settings = {
-		...formSettings,
-		...editFormSettings
+	const fieldsSettings = {
+		...base,
+		...edit
 	};
 
+	//
+
 	let open = false;
-</script>
 
-<Button
-	class="!p-2"
-	color="alternative"
-	on:click={() => {
+	function openModal() {
 		open = true;
-	}}
->
-	<Pencil size="20" />
-</Button>
+	}
+</script>
+
+<slot {openModal}>
+	<Button class="!p-2" color="alternative" on:click={openModal}>
+		<Pencil size="20" />
+	</Button>
+</slot>
 
-<div class="m-0">
+<ModalWrapper>
 	<Modal bind:open title="Edit record" size="lg">
 		<div class="w-[500px]">
 			<CrudForm
-				mode={formMode.EDIT}
 				collection={record.collectionId}
+				recordId={record.id}
 				initialData={record}
-				formSettings={settings}
+				{fieldsSettings}
 				on:success={async () => {
 					await loadRecords();
 					open = false;
@@ -45,4 +58,4 @@
 			/>
 		</div>
 	</Modal>
-</div>
+</ModalWrapper>
